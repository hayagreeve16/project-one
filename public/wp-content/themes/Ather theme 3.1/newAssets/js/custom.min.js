jQuery.fn.center=function(){this.css("position","absolute");this.css("left",Math.max(0,($(window).width()-$(this).outerWidth())/2+$(window).scrollLeft())+"px");return this};var keys=[37,38,39,40];function preventDefault(b){b=b||window.event;b.preventDefault&&b.preventDefault();b.returnValue=!1}function keydown(b){for(var a=keys.length;a--;)if(b.keyCode===keys[a]){preventDefault(b);break}}function wheel(b){preventDefault(b)}
function disable_scroll(){window.addEventListener&&window.addEventListener("DOMMouseScroll",wheel,!1);window.onmousewheel=document.onmousewheel=wheel;document.onkeydown=keydown}function enable_scroll(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",wheel,!1);window.onmousewheel=document.onmousewheel=document.onkeydown=null}var md=new MobileDetect(window.navigator.userAgent);
function detectTouch(){Modernizr.touch&&md.mobile()&&(firstScroll=!1,$("body").hasClass("is-touch")||$("body").addClass("is-touch"))}var lastScrollTop=0,firstScroll,pos;
function firstScrolljack(){firstScroll=!0;$(window).on("scroll",function(){detectTouch();$("body").hasClass("max767")||(pos=$(window).scrollTop(),pos>lastScrollTop?firstScroll&&($("html, body").animate({scrollTop:100},{progress:function(){disable_scroll()},complete:function(){enable_scroll()}},800),firstScroll=!1):(firstScroll=!1,0===pos&&(firstScroll=!0)),lastScrollTop=pos)})}
function sliderImg(b,a){$(b).css("width",$(".slider-image.bottom-image img").width());$(a).css("height",$(".slider-image.bottom-image img").height());$(b).center()}function alignImages(){var b=$(window).height()-$(".slider-image.top-image img").height();$(".slider-image img").each(function(){$(this).css("margin-top",b/2)});$(".sp-wrapper.mainpointers").each(function(){$(this).css("margin-top",b/2)})}
function checkPosition(b,a){b.each(function(){var b=$(this);$(window).scrollTop()+$(window).height()*a>b.offset().top&&b.addClass("is-visible")})}
function drags(b,a,c,m,e){b.on("mousedown vmousedown",function(d){b.addClass("draggable");a.addClass("resizable");c.addClass("dragon");var f=b.outerWidth(),n=b.offset().left+f-d.pageX,g=c.offset().left,h=c.outerWidth(),k=g+10,l=g+h-f-10;b.parents().on("mousemove vmousemove",function(b){leftValue=b.pageX+n-f;leftValue<k?leftValue=k:leftValue>l&&(leftValue=l);widthValue=100*(leftValue+f/2-g)/h+"%";$(".draggable").css("left",widthValue).on("mouseup vmouseup",function(){$(this).removeClass("draggable");
a.removeClass("resizable")});$(".resizable").css("width",widthValue);updateLabel(e,a,"left");updateLabel(m,a,"right")}).on("mouseup vmouseup",function(d){b.removeClass("draggable");a.removeClass("resizable");c.removeClass("dragon")});d.preventDefault()}).on("mouseup vmouseup",function(d){b.removeClass("draggable");a.removeClass("resizable");c.removeClass("dragon")})}
function updateLabel(b,a,c){"left"==c?b.offset().left+b.outerWidth()<a.offset().left+a.outerWidth()?b.removeClass("is-hidden"):b.addClass("is-hidden"):b.offset().left>a.offset().left+a.outerWidth()?b.removeClass("is-hidden"):b.addClass("is-hidden")}
function reset(){$(".slider-image img").each(function(){$(this).css("margin-top","")});$(".sp-wrapper").each(function(){$(this).css("margin-top","")});$(".slider-image.top-image img").each(function(){$(this).css({width:"",height:"",left:"",position:""})});$(".sp-wrapper").each(function(){$(this).css({width:"",height:"",left:"",position:""})})}
$(document).ready(function(){$(".sp-wrapper").css("height",.3148*$(window).width()+"px");$(window).load(function(){$(".sp-wrapper").css("height",.3148*$(window).width()+"px");$(".herounit-p2 img").css("margin-top",.3148*$(window).width()/2+"px")});sliderImg(".slider-image.top-image img");sliderImg(".sp-wrapper.mainpointers",".sp-wrapper.mainpointers");$(".hero-sliderImage-block").css("height",$(window).height());$(window).on("resize",function(){sliderImg(".slider-image.top-image img");sliderImg(".sp-wrapper.mainpointers",
".sp-wrapper.mainpointers");alignImages();$(".hero-sliderImage-block").css("height",$(window).height())});$(window).on("load",function(){alignImages()});controller=new ScrollMagic;var b=(new ScrollScene({triggerElement:".hero-unit",duration:300,triggerHook:"onLeave",tweenChanges:!0})).setPin(".hero-unit").addTo(controller);$(".hero-unit .herounit-p2");$(".hero-unit .hero-bigtext .hero-bt-top");$(".hero-unit .hero-bigtext .hero-bt-bottom");b.on("start",function(a){$(".hero-unit").addClass("hero-anim-start")});
b.on("leave",function(a){$(".hero-unit").removeClass("hero-anim-start")});b.on("end",function(a){$(".hero-unit").addClass("hero-anim-end")});b.on("progress",function(a){$(".hero-unit").hasClass("hero-anim-end")&&$(".hero-unit").removeClass("hero-anim-end");hero_progress=b.progress();0>=hero_progress?($(".hero-unit").addClass("anim-initial"),$(".hero-unit").removeClass("anim-progress")):($(".hero-unit").removeClass("anim-initial"),$(".hero-unit").addClass("anim-progress"));$(".hero-unit").hasClass("anim-progress")?
$(".nav-container").addClass("hide-nav"):($(".hero-unit").hasClass("anim-initial")||$(".hero-unit").hasClass("hero-anim-end"))&&$(".nav-container").removeClass("hide-nav")});firstScrolljack();$(".nav-item-4 a").click(function(){firstScroll=!1;$("html, body").animate({scrollTop:$(".demo-wrapper").offset().top},2E3)});-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&$("body").addClass("safari-yu-no-image-in-svg");$(".ba-bike-slider").each(function(){var a=$(this);
drags(a.find(".ba-handle"),a.find(".slider-image.top-image"),a,a.find('.cd-image-label[data-type="beauty"]'),a.find('.cd-image-label[data-type="engineered"]'))});(function(a){function b(c){var e=[];a(c).each(function(){a(this).css("min-height","0");a(this).css("max-height","none");a(this).css("height","auto");e.push(a(this).height())});var d=Math.max.apply(Math,e);a(c).each(function(){a(this).css("min-height",d+"px")})}a(window).load(function(){b(".feature-icon-block");a(window).resize(function(){setTimeout(function(){b(".feature-icon-block")},
120)})})})(jQuery);$(".section-2-wrapper").waypoint(function(a){"down"===a&&$(this).addClass("is-visible")},{offset:"40%"}).waypoint(function(a){"up"===a&&$(this).removeClass("is-visible")},{offset:"60%"});$(".battery-pack-wrapper").waypoint(function(a){"down"===a&&$(this).addClass("is-visible")},{offset:"40%"}).waypoint(function(a){"up"===a&&$(this).removeClass("is-visible")},{offset:"60%"});$("#isw-3").waypoint(function(a){"down"===a&&$(this).addClass("is-visible")},{offset:"90%"}).waypoint(function(a){"up"===
a&&$(this).removeClass("is-visible")},{offset:"10%"});$(window).on("scroll",function(){});$(".herounit-p2").on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){checkPosition($(".herounit-p2"),.001)});enquire.register("(max-width: 767px)",{setup:function(){$("body").addClass("max767");controller.enabled();alignImages()},match:function(){$("body").addClass("max767");controller.enabled(!1);$(window).on("resize load ready",function(){reset();$(".hero-sliderImage-block").css("height",
"")});$(".hamburger-nav").on("click",function(){$(this).hasClass("open")?$(this).hasClass("close")||($(this).addClass("close"),$(this).removeClass("open"),$(".nav-overlay-wrapper").addClass("close"),$(".nav-overlay-wrapper").removeClass("open"),$(".hamburger-menu-wrapper").addClass("close"),$(".hamburger-menu-wrapper").removeClass("open")):($(this).addClass("open"),$(this).removeClass("close"),$(".nav-overlay-wrapper").addClass("open"),$(".nav-overlay-wrapper").removeClass("close"),$(".hamburger-menu-wrapper").addClass("open"),
$(".hamburger-menu-wrapper").removeClass("close"))});$(".nav-overlay-wrapper .nav-item .ni-inside a").each(function(){$(this).on("click",function(){$(".hamburger-nav").hasClass("close")||($(".hamburger-nav").addClass("close"),$(".hamburger-nav").removeClass("open"),$(".nav-overlay-wrapper").addClass("close"),$(".nav-overlay-wrapper").removeClass("open"),$(".hamburger-menu-wrapper").addClass("close"),$(".hamburger-menu-wrapper").removeClass("open"))})})},unmatch:function(){$("body").removeClass("max767");
controller.enabled(!0);sliderImg(".slider-image.top-image img");sliderImg(".sp-wrapper.mainpointers",".sp-wrapper.mainpointers");alignImages();$(".hero-sliderImage-block").css("height",$(window).height());$(window).on("resize",function(){sliderImg(".slider-image.top-image img");sliderImg(".sp-wrapper.mainpointers",".sp-wrapper.mainpointers");alignImages();$(".hero-sliderImage-block").css("height",$(window).height())})},deferSetup:!0});enquire.register("(min-width: 768px) and (orientation: portrait)",
{setup:function(){$("body").addClass("max767");controller.enabled();alignImages()},match:function(){$("body").addClass("max767");controller.enabled(!1);$(window).on("resize load ready",function(){reset();$(".hero-sliderImage-block").css("height","")})},unmatch:function(){$("body").removeClass("max767");controller.enabled(!0);sliderImg(".slider-image.top-image img");sliderImg(".sp-wrapper.mainpointers",".sp-wrapper.mainpointers");alignImages();$(".hero-sliderImage-block").css("height",$(window).height());
$(window).on("resize",function(){sliderImg(".slider-image.top-image img");sliderImg(".sp-wrapper.mainpointers",".sp-wrapper.mainpointers");alignImages();$(".hero-sliderImage-block").css("height",$(window).height())});$(".sp-wrapper-mobile").css("margin-top","")},deferSetup:!0});$(".ather-form .demoNewsletter input").on("click",function(){$(this).is(":checked")?$(".ather-form .demo input").prop("checked",!1):$(".ather-form .demo input").prop("checked",!0)})});